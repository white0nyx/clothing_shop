{% load shop_tags %}
{% load static %}
<!DOCTYPE html>

<html lang="ru" translate="no">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width = device - width, initial-scale = 1.0">
    <title>{{ title }}</title>
    <link rel="icon" href="{% static 'shop/wearfit_icon.png' %} " type="images/x-icon">

    <!-- Bootstrap reboot (для сброса стилей) -->
    <link rel="stylesheet" href="{% static 'shop/css/bootstrap-reboot.min.css' %}">

    <!-- Bootstrap сетка -->
    <link rel="stylesheet" href="{% static 'shop/css/bootstrap-grid.min.css' %}">

    <!-- Шрифты с Google Fonts -->
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans:ital,wght@0,400;0,700;1,400&display=swap"
          rel="stylesheet">

    <!-- Стили сайта -->
    <link rel="stylesheet" href="{% static 'shop/css/styles.css' %}">

    <!-- Функции   -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.3/jquery.min.js"></script>
</head>

<body>
<nav class="header">
    <div class="container1">
        <a href="{% url 'home' %}" class="header-brand"><img src="{% static 'shop/WEARFIT_main1.png' %} " alt=""
                                                             height="180px"></a>
    </div>
    {% get_categories_in_header %}
    <div class="container3">
        <div class="header-second">
            <div class="switcher-language">

                <button class="button-language" id="button-language-id">
                    РУС
                </button>
                {#
                <script type="text/javascript" src='{% static "shop/js/lang_cur_choice.js" %}'></script>
                #}

            </div>
            <div class="select-list-transition-language">
                <ul class="select-list language">
                    <button class="select-list-value" id="ENG">АНГЛ</button>
                    <button class="select-list-value" id="RUS">РУС</button>
                    <button class="select-list-value" id="UKR">УКР</button>
                </ul>
            </div>

            <!--                <div class="switcher-currency">-->

            <!--                    <button class="button-currency" id="button-currency-id">-->
            <!--                        RUB-->
            <!--                    </button>-->
            <!--                    <div class="select-list-transition-currency">-->
            <!--                        <ul class="select-list currency">-->
            <!--                            <button class="select-list-value" id="USD">USD</button>-->
            <!--                            <button class="select-list-value" id="EUR">EUR</button>-->
            <!--                            <button class="select-list-value" id="UAH">UAH</button>-->
            <!--                            <button class="select-list-value" id="KZT">KZT</button>-->
            <!--                            <button class="select-list-value" id="CZK">CZK</button>-->
            <!--                            <button class="select-list-value" id="PLN">PLN</button>-->
            <!--                            <button class="select-list-value" id="GEL">GEL</button>-->
            <!--                            <button class="select-list-value" id="RUB">RUB</button>-->
            <!--                        </ul>-->
            <!--                    </div>-->
            <!--                    <script type="text/javascript" src='{% static "shop/js/lang_cur_choice.js" %}'></script>-->
            <!--                </div>-->
            <form method="post" action="{% url 'change_currency' %}">
                {% csrf_token %}
                <div class="switcher-currency">
                    <select name="currency" onchange="this.form.submit()">
                        <option value="USD">USD</option>
                        <option value="EUR">EUR</option>
                        <option value="RUB">RUB</option>
                        <option value="RUB" selected>RUB</option>
                    </select>
                </div>
            </form>

            <div class="header-second">
                <div class="header-first">
                    {% if request.user.is_authenticated %}
                    <li class="p-2 link-secondary"><a class="account-link-p"
                                                      href="{% url 'account' %}">{{user.username}}</a> | <a
                            class="account-link-p"
                            href="{% url 'logout' %}">Выйти</a></li>
                    {% else %}
                    <button class="buttonEnter">
                        <svg class="account" xmlns="http://www.w3.org/2000/svg" viewBox="">
                            <path d="M10.5 0C6.82 0 3.82 3 3.82 6.68c0 2.29 1.16 4.31 2.92 5.52A9.534 9.534 0 00.95 21h1.91c0-4.26 3.37-7.64 7.64-7.64s7.64 3.37 7.64 7.64h1.91c0-3.95-2.37-7.35-5.79-8.8a6.68 6.68 0 002.92-5.52C17.18 3 14.18 0 10.5 0zm0 1.91c2.65 0 4.77 2.13 4.77 4.77s-2.13 4.77-4.77 4.77-4.77-2.12-4.77-4.77 2.12-4.77 4.77-4.77z"></path>
                        </svg>
                    </button>
                    {% endif %}
                </div>
            </div>

            <div class="modal-tile-start modal__signin-tile">
                <div class="modal-blackout">

                </div>
                <div class="modal-close-area">

                </div>
                <div class="modal-tile modal__signin-tile active">


                    <div class="modal__signin-arrow" style="right: calc((171.219px - 5vw) + -43px);">
                    </div>

                    <form method="post" class="modal__signin-classic">

                        {% csrf_token %}
                        <div class="form-error">{{ form.non_field_errors }}</div>
                        <div class="modal__signin-classic-field">
                            <label for="{{ form.username.id_for_label }}" class="modal__signin-classic-field-label">
                                {{ form.username.label }}
                            </label>
                            {{ form.username }}
                            <div class="form-error">{{ form.username.errors }}</div>
                        </div>
                        <div class="modal__signin-classic-field">
                            <label for="{{ form.password.id_for_label }}" class="modal__signin-classic-field-label">
                                {{ form.password.label }}
                            </label>
                            {{ form.password }}
                        </div>
                        <div class="form-error">{{ form.password.errors }}</div>


                        <!-- Попытка формы -->
                        <!--<form class="modal__signin-classic" method="post">
                    {% csrf_token %}
                    <div class="row-form-errors">{{ form.non_field_errors }}</div>

                    {% for f in form %}
                        <p><label class="modal__signin-classic-field-input" for="{{ f.id_for_label }}">{{ f.label }}: </label>{{ f }}</p>
                        <div class="form-error">{{ f.errors }}</div>
                    {% endfor %}-->

                        <button class="modal__signin-classic-signIn hoverable disabled" type="submit"
                                sign-in-pending="false">
                        <span>
                            Войти
                        </span>
                            <div class="icon modal__signin-classic-signIn-arrow icon__animated">
                                <svg class="arrow" xmlns="http://www.w3.org/2000/svg" viewBox="">
                                    <path
                                            d="M12 3.7v-.1-.1-.1c0-.1-.1-.1-.1-.2l-3-3C8.7 0 8.3 0 8.1.1s-.1.6 0 .8L10.3 3H.5c-.3 0-.5.2-.5.5s.2.5.5.5h9.8L8.1 6.1c-.1.2-.1.6 0 .8.2.1.6.1.8 0l3-3c0-.1 0-.1.1-.2z">
                                    </path>
                                </svg>
                            </div>
                        </button>
                    </form>

                    <a class="modal__signin-sign-up hoverable" href="{% url 'registration' %}">
                        Быстрая
                        регистрация
                    </a>
                    <div class="icon modal-close icon__animated">
                        <svg class="cross" xmlns="http://www.w3.org/2000/svg" viewBox="">
                            <polygon
                                    points="15,0.54 14.46,0 7.5,6.96 0.54,0 0,0.54 6.96,7.5 0,14.46 0.54,15 7.5,8.04 14.46,15 15,14.46 8.04,7.5">

                            </polygon>
                        </svg>

                    </div>


                    <script type="text/javascript" src='{% static "shop/js/entry_window.js" %}'></script>

                </div>
            </div>
            <div class="header-buttons">
                <button class="button-basket">
                    <svg class="cart" xmlns="http://www.w3.org/2000/svg" viewBox="">
                        <path d="M6.02 7L4.27 0H.11v1.75h2.84l3.5 14h11.81L20.89 7H6.02zm10.93 7H7.77L6.45 8.75h12.03L16.95 14zM9.3 16.63c1.21 0 2.19.98 2.19 2.19S10.5 21 9.3 21s-2.19-.98-2.19-2.19.98-2.18 2.19-2.18zm3.93 2.18a2.19 2.19 0 104.379.001 2.19 2.19 0 00-4.379-.001z"></path>
                    </svg>
                </button>
            </div>


            <div class="app__modals">
                <div class="modal modal__cart enter-done">
                    <div class="modal-inside modal__cart-inside">
                        <div class="modal-blackout">

                        </div>
                        <div class="modal-close-area">

                        </div>
                        <div class="modal-tile modal__cart-tile">
                            <div class="modal__cart-continue-shopping-2">
                                <button class="modal__cart-continue-shopping">
                                    <div class="icon modal__cart-continue-shopping-arrow icon__animated">
                                        <svg class="arrow4"
                                             xmlns="http://www.w3.org/2000/svg" viewBox="">
                                            <path
                                                    d="M2.2 16L16.7 1.5c.4-.4.4-.9 0-1.3s-.9-.4-1.3 0L.3 15.4c-.4.4-.4.9 0 1.3l15.2 15.1c.2.2.4.3.6.3.2 0 .5-.1.6-.3.4-.4.4-.9 0-1.3L2.2 16z">
                                            </path>
                                        </svg>
                                    </div>
                                    <span>
                                        Продолжить покупки

                                    </span>
                                </button>
                            </div>
                            <div class="modal__cart-title">
                                {% for item in cart %}
                                {% if item.item_code %}
                                <small>Товар: {{ item.product }}
                                    <br>
                                    Размер: {{ item.size }}
                                    <br>
                                    Цена: {{ item.price }}
                                    <br>
                                    Количество: {{ item.quantity }}
                                    <br>
                                    Общая стоимость: <span class='item_total_price'>{{ item.total_price }}
                                        <a href="{% url 'cart_remove' item.item_code %}">
                                <button type="button" class="delete-category-product">Убрать из корзины</button></a>
                                        {% endif %}
                                        <br>
                                    </span></small>
                                {% endfor %}
                            </div>
                            <div class="modal__cart-list">

                            </div>
                            <div class="modal__cart-bottom">
                                <div class="modal__cart-bottom-content">
                                    <div class="modal__cart-promo-code">
                                        <div class="modal__cart-promo-code-title">
                                            Промокод
                                        </div>
                                        <form class="modal__cart-promo-code-content">
                                            <input class="modal__cart-promo-code-input" type="text" maxlength="10"
                                                   required="" value="">
                                            <button class="modal__cart-promo-code-apply"
                                                    type="submit">
                                                <span>Применить

                                                </span>
                                            </button>
                                        </form>
                                    </div>
                                    <div class="modal__cart-total-cost">
                                        
                                        <span
                                                class="modal__cart-total-cost-title">
                                            Итого:
                                        </span>
                                        <span
                                                class="modal__cart-total-cost-value">
                                            <span id="total-to-purchase">{{ cart.get_total_price }} RUB</span>
                                            
                                            <span id="button-currency-id-basket">
                                                RUB

                                            </span>
                                        </span>
                                    </div>
                                    <button
                                            type="submit" class="modal__cart-checkout">
                                        <a href="{% url 'place_on_order' %}">Оформить заказ</a>

                                    </button>
                                    <script type="text/javascript"
                                            src='{% static "shop/js/oformi_zakaz.js" %}'></script>
                                </div>
                            </div>

                        </div>
                    </div>
                </div>
                <script type="text/javascript" src='{% static "shop/js/cart.js" %}'></script>
            </div>
        </div>
</nav>


<br><br><br><br>
{% block content %}
{% endblock %}
</body>
<footer class="footer">
    <div class="footer-container">
        <div class="before-row">
            <div class="footer-col1">
                {% get_categories_in_footer %}
            </div>
        </div>
        <div class="row">
            <div class="footer-col">
                <h4>WearFit</h4>
                <ul>
                    <li><a href="#">support@wearfit.com</a></li>
                    <li><a href="#">ПН-ПТ: 9:00-21:00</a></li>
                    <li><a href="#">© 2023, WearFit.com</a></li>
                </ul>
            </div>
            <div class="footer-col">
                <h4>Помощь</h4>
                <ul>
                    <li><a href="#">FAQ</a></li>
                    <li><a href="#">Ваш заказ</a></li>
                </ul>
            </div>
            <div class="footer-col">
                <h4>Соц.Сети</h4>
                <ul>
                    <li><a href="#">facebook</a></li>
                    <li><a href="#">vk</a></li>
                    <li><a href="#">instagram</a></li>
                    <li><a href="#">twitter</a></li>
                </ul>
            </div>
        </div>
    </div>
</footer>


</html>